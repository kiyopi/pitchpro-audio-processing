<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PitchPro - オーディオ基本デモ</title>
    
    <!-- スタイルシート -->
    
    <!-- フォント -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Lucideアイコン -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div class="demo-container">
        <!-- ヘッダー -->
        <header class="demo-header">
            <h1>
                <i data-lucide="headphones" style="width: 40px; height: 40px; color: #3b82f6;"></i>
                PitchPro オーディオ基本デモ
            </h1>
            <p>音程検出システムの基本機能テスト</p>
        </header>

        <!-- ステータス -->
        <div class="status-panel glass-card">
            <h2>
                <i data-lucide="activity" class="text-blue-300"></i>
                <span>システム状態</span>
            </h2>
            <div class="status-grid">
                <div class="status-item">
                    <span class="status-label">ライブラリ:</span>
                    <span class="status-value" id="library-status">未確認</span>
                </div>
                <div class="status-item">
                    <span class="status-label">AudioManager:</span>
                    <span class="status-value" id="audiomanager-status">未作成</span>
                </div>
                <div class="status-item">
                    <span class="status-label">PitchDetector:</span>
                    <span class="status-value" id="pitchdetector-status">未作成</span>
                </div>
                <div class="status-item">
                    <span class="status-label">検出状態:</span>
                    <span class="status-value" id="detection-status">停止中</span>
                </div>
            </div>
        </div>

        <!-- コントロール -->
        <div class="controls glass-card">
            <h2>
                <i data-lucide="settings" class="text-green-300"></i>
                <span>制御パネル</span>
            </h2>
            <div class="button-group">
                <button id="btn-check-library" class="btn btn-secondary">
                    <i data-lucide="check-circle" style="width: 20px; height: 20px;"></i>
                    ライブラリ確認
                </button>
                <button id="btn-init-audio" class="btn btn-primary" disabled>
                    <i data-lucide="volume-2" style="width: 20px; height: 20px;"></i>
                    AudioManager初期化
                </button>
                <button id="btn-init-pitch" class="btn btn-primary" disabled>
                    <i data-lucide="mic" style="width: 20px; height: 20px;"></i>
                    PitchDetector作成
                </button>
                <button id="btn-start" class="btn btn-success" disabled>
                    <i data-lucide="play" style="width: 20px; height: 20px;"></i>
                    検出開始
                </button>
                <button id="btn-stop" class="btn btn-outline" disabled>
                    <i data-lucide="stop-circle" style="width: 20px; height: 20px;"></i>
                    検出停止
                </button>
            </div>
        </div>

        <!-- 音程表示 -->
        <div class="pitch-display glass-card">
            <h2>
                <i data-lucide="music" class="text-yellow-300"></i>
                <span>リアルタイム音程検出</span>
            </h2>
            <div class="pitch-content">
                <div class="frequency-display">
                    <div class="frequency-value" id="frequency">--</div>
                    <div class="frequency-unit">Hz</div>
                </div>
                <div class="note-info">
                    <div class="note-name" id="note">--</div>
                    <div class="note-octave">
                        <span id="octave">--</span><span class="octave-label">オクターブ</span>
                    </div>
                    <div class="note-cents">
                        <span id="cents">--</span><span class="cents-label">cents</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 詳細情報 -->
        <div class="info-panels">
            <!-- 音量パネル -->
            <div class="info-panel glass-card">
                <h3>
                    <i data-lucide="volume-x" class="text-purple-300"></i>
                    <span>音量レベル</span>
                </h3>
                <div class="volume-display">
                    <div class="volume-bar">
                        <div class="volume-fill" id="volume-fill"></div>
                    </div>
                    <div class="volume-text">
                        <span id="volume-percent">0</span>%
                    </div>
                </div>
            </div>

            <!-- 明瞭度パネル -->
            <div class="info-panel glass-card">
                <h3>
                    <i data-lucide="target" class="text-orange-300"></i>
                    <span>明瞭度</span>
                </h3>
                <div class="clarity-display">
                    <div class="clarity-value" id="clarity">0.00</div>
                    <div class="clarity-bar">
                        <div class="clarity-fill" id="clarity-fill"></div>
                    </div>
                </div>
            </div>

            <!-- デバイス情報パネル -->
            <div class="info-panel glass-card">
                <h3>
                    <i data-lucide="smartphone" class="text-cyan-300"></i>
                    <span>デバイス情報</span>
                </h3>
                <div class="device-info">
                    <div class="device-item">
                        <span class="device-label">種類:</span>
                        <span class="device-value" id="device-type">--</span>
                    </div>
                    <div class="device-item">
                        <span class="device-label">感度:</span>
                        <span class="device-value"><span id="sensitivity">--</span>x</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ログパネル -->
        <div class="log-panel glass-card">
            <h2>
                <i data-lucide="terminal" class="text-gray-300"></i>
                <span>動作ログ</span>
            </h2>
            <div class="log-content" id="log-content">
                <div class="log-entry">システム待機中...</div>
            </div>
        </div>
    </div>

    <!-- PitchProライブラリ -->
    <script src="./pitchpro.umd.js"></script>
    <script src="./script.js"></script>
</body>
</html>