# PitchPro v1.1.5 ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰ - éŸ³ç¨‹ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¢ãƒ—ãƒªå‘ã‘

## ğŸ“‹ æ¦‚è¦

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€PitchProãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ãŸéŸ³ç¨‹ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¢ãƒ—ãƒªã‚’v1.1.5ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹ãŸã‚ã®é–‹ç™ºè€…å‘ã‘ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

**å¯¾è±¡èª­è€…**: éŸ³ç¨‹ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¢ãƒ—ãƒªã®é–‹ç™ºè€…ãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼  
**ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ—¥**: 2025å¹´9æœˆ9æ—¥  
**PitchProãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v1.1.5

## ğŸš€ v1.1.5ã®ä¸»è¦ãªæ–°æ©Ÿèƒ½

### âœ¨ UIãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ä»˜ãupdateSelectors()
- **å•é¡Œè§£æ±º**: éŸ³é‡ãƒãƒ¼åˆ‡ã‚Šæ›¿ãˆæ™‚ã®è¡¨ç¤ºæ®‹ç•™ãƒã‚°ã‚’å®Œå…¨è§£æ±º
- **è‡ªå‹•ãƒªã‚»ãƒƒãƒˆ**: ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´æ™‚ã«ã™ã¹ã¦ã®UIè¦ç´ ãŒåˆæœŸçŠ¶æ…‹(0å€¤)ã«è‡ªå‹•ãƒªã‚»ãƒƒãƒˆ
- **åŒ…æ‹¬å¯¾å¿œ**: progressè¦ç´ ã¨divã‚¹ã‚¿ã‚¤ãƒ«ä¸¡æ–¹ã«å¯¾å¿œ

### ğŸ¯ éŸ³ç¨‹ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¢ãƒ—ãƒªã§ã®ãƒ¡ãƒªãƒƒãƒˆ
- âœ… **ã‚¹ãƒ ãƒ¼ã‚ºãªãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ**: éŸ³ç¨‹ç·´ç¿’â†”éŸ³éšç·´ç¿’â†”å’ŒéŸ³ç·´ç¿’ã®ç§»è¡ŒãŒè‡ªç„¶ã«
- âœ… **UIåŒæœŸã®æ”¹å–„**: å‰ãƒ¢ãƒ¼ãƒ‰ã®éŸ³é‡ãƒãƒ¼ãŒæ®‹ã‚‹å•é¡Œã‚’è§£æ¶ˆ
- âœ… **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å‘ä¸Š**: ã‚¹ãƒˆãƒ¬ã‚¹ãƒ•ãƒªãƒ¼ãªãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ç’°å¢ƒã‚’å®Ÿç¾

## ğŸ“¦ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ‰‹é †

### 1. ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°æ–¹æ³•

#### **GitHubã‹ã‚‰ç›´æ¥åˆ©ç”¨ã—ã¦ã„ã‚‹å ´åˆ**
```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®æœ€æ–°ç‰ˆã‚’å–å¾—
git pull origin main

# ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å–å¾—
wget https://github.com/kiyopi/pitchpro-audio-processing/releases/download/v1.1.5/pitchpro-v1.1.5.zip
```

#### **CDNçµŒç”±ã§åˆ©ç”¨ã—ã¦ã„ã‚‹å ´åˆ**
```html
<!-- æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ -->
<script src="https://cdn.example.com/pitchpro@1.1.4/dist/pitchpro.umd.js"></script>

<!-- v1.1.5ã«æ›´æ–° -->
<script src="https://cdn.example.com/pitchpro@1.1.5/dist/pitchpro.umd.js"></script>
```

#### **ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆ**
1. [GitHubãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸](https://github.com/kiyopi/pitchpro-audio-processing/releases/tag/v1.1.5)ã‹ã‚‰æœ€æ–°ç‰ˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
2. `dist/`ãƒ•ã‚©ãƒ«ãƒ€å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã¨ç½®ãæ›ãˆ

### 2. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢å¯¾ç­–

```javascript
// ãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥å›é¿
const PITCHPRO_VERSION = '1.1.5';
const script = document.createElement('script');
script.src = `./dist/pitchpro.umd.js?v=${PITCHPRO_VERSION}`;
document.head.appendChild(script);
```

## ğŸµ éŸ³ç¨‹ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¢ãƒ—ãƒªã§ã®å®Ÿè£…

### HTMLã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ä¾‹

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <title>éŸ³ç¨‹ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¢ãƒ—ãƒª</title>
    <style>
        .training-mode {
            display: none;
            padding: 20px;
            margin: 10px;
            border: 2px solid #4CAF50;
            border-radius: 8px;
        }
        .training-mode.active {
            display: block;
        }
        .volume-bar {
            width: 100%;
            height: 20px;
            background: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
        }
        .volume-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50 0%, #FF5722 100%);
            width: 0%;
            transition: width 0.1s ease;
        }
    </style>
</head>
<body>
    <!-- ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒœã‚¿ãƒ³ -->
    <div class="controls">
        <button id="init-btn">ğŸ¤ åˆæœŸåŒ–</button>
        <button id="start-btn" disabled>â–¶ï¸ é–‹å§‹</button>
        <button id="stop-btn" disabled>â¹ åœæ­¢</button>
    </div>

    <!-- ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ -->
    <div class="mode-buttons">
        <button id="interval-mode-btn">ğŸµ éŸ³ç¨‹ç·´ç¿’</button>
        <button id="scale-mode-btn">ğŸ¼ éŸ³éšç·´ç¿’</button>
        <button id="chord-mode-btn">ğŸ¹ å’ŒéŸ³ç·´ç¿’</button>
    </div>

    <!-- éŸ³ç¨‹ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ -->
    <div id="interval-training" class="training-mode active">
        <h3>ğŸµ éŸ³ç¨‹ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰</h3>
        <div class="volume-bar">
            <div class="volume-fill" id="interval-volume-bar"></div>
        </div>
        <p>éŸ³é‡: <span id="interval-volume-text">0.0%</span></p>
        <p>å‘¨æ³¢æ•°: <span id="interval-frequency">0.0 Hz</span></p>
        <p>éŸ³ç¬¦: <span id="interval-note">-</span></p>
    </div>

    <!-- éŸ³éšç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ -->
    <div id="scale-training" class="training-mode">
        <h3>ğŸ¼ éŸ³éšç·´ç¿’ãƒ¢ãƒ¼ãƒ‰</h3>
        <div class="volume-bar">
            <div class="volume-fill" id="scale-volume-bar"></div>
        </div>
        <p>éŸ³é‡: <span id="scale-volume-text">0.0%</span></p>
        <p>å‘¨æ³¢æ•°: <span id="scale-frequency">0.0 Hz</span></p>
        <p>éŸ³ç¬¦: <span id="scale-note">-</span></p>
    </div>

    <!-- å’ŒéŸ³ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ -->
    <div id="chord-training" class="training-mode">
        <h3>ğŸ¹ å’ŒéŸ³ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰</h3>
        <div class="volume-bar">
            <div class="volume-fill" id="chord-volume-bar"></div>
        </div>
        <p>éŸ³é‡: <span id="chord-volume-text">0.0%</span></p>
        <p>å‘¨æ³¢æ•°: <span id="chord-frequency">0.0 Hz</span></p>
        <p>éŸ³ç¬¦: <span id="chord-note">-</span></p>
    </div>

    <!-- PitchPro v1.1.5 -->
    <script src="./dist/pitchpro.umd.js"></script>
    <script src="./pitch-training-app.js"></script>
</body>
</html>
```

### JavaScriptå®Ÿè£…ä¾‹

```javascript
// pitch-training-app.js - v1.1.5å¯¾å¿œç‰ˆ

class PitchTrainingApp {
    constructor() {
        this.audioDetector = null;
        this.currentMode = 'interval';
        this.isInitialized = false;
        
        // UIè¦ç´ ã®å–å¾—
        this.elements = {
            initBtn: document.getElementById('init-btn'),
            startBtn: document.getElementById('start-btn'),
            stopBtn: document.getElementById('stop-btn'),
            intervalModeBtn: document.getElementById('interval-mode-btn'),
            scaleModeBtn: document.getElementById('scale-mode-btn'),
            chordModeBtn: document.getElementById('chord-mode-btn'),
            
            // ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³
            intervalTraining: document.getElementById('interval-training'),
            scaleTraining: document.getElementById('scale-training'),
            chordTraining: document.getElementById('chord-training')
        };
        
        this.setupEventListeners();
    }

    setupEventListeners() {
        // åˆæœŸåŒ–ãƒœã‚¿ãƒ³
        this.elements.initBtn.addEventListener('click', () => this.initialize());
        
        // é–‹å§‹ãƒ»åœæ­¢ãƒœã‚¿ãƒ³
        this.elements.startBtn.addEventListener('click', () => this.startDetection());
        this.elements.stopBtn.addEventListener('click', () => this.stopDetection());
        
        // ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ï¼ˆv1.1.5æ–°æ©Ÿèƒ½æ´»ç”¨ï¼‰
        this.elements.intervalModeBtn.addEventListener('click', () => this.switchToIntervalMode());
        this.elements.scaleModeBtn.addEventListener('click', () => this.switchToScaleMode());
        this.elements.chordModeBtn.addEventListener('click', () => this.switchToChordMode());
    }

    async initialize() {
        try {
            console.log('ğŸ¤ éŸ³ç¨‹ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¢ãƒ—ãƒªã‚’åˆæœŸåŒ–ä¸­...');
            
            // AudioDetectionComponentåˆæœŸåŒ–ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯éŸ³ç¨‹ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ï¼‰
            this.audioDetector = new PitchPro.AudioDetectionComponent({
                volumeBarSelector: '#interval-volume-bar',
                volumeTextSelector: '#interval-volume-text',
                frequencySelector: '#interval-frequency',
                noteSelector: '#interval-note',
                
                // ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¢ãƒ—ãƒªå‘ã‘è¨­å®š
                clarityThreshold: 0.4,
                minVolumeAbsolute: 0.003,
                deviceOptimization: true,
                debug: true
            });

            // ã‚¤ãƒ™ãƒ³ãƒˆã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­å®š
            this.audioDetector.setCallbacks({
                onPitchUpdate: (result) => this.handlePitchUpdate(result),
                onVolumeUpdate: (volume) => this.handleVolumeUpdate(volume),
                onError: (error) => this.handleError(error),
                onStateChange: (state) => console.log(`ğŸ”„ çŠ¶æ…‹å¤‰æ›´: ${state}`)
            });

            await this.audioDetector.initialize();
            
            this.isInitialized = true;
            console.log('âœ… åˆæœŸåŒ–å®Œäº†');
            
            // ãƒœã‚¿ãƒ³çŠ¶æ…‹æ›´æ–°
            this.elements.initBtn.disabled = true;
            this.elements.startBtn.disabled = false;
            
        } catch (error) {
            console.error('âŒ åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼:', error);
            alert(`åˆæœŸåŒ–ã«å¤±æ•—ã—ã¾ã—ãŸ: ${error.message}`);
        }
    }

    startDetection() {
        if (!this.isInitialized) {
            alert('å…ˆã«åˆæœŸåŒ–ã‚’è¡Œã£ã¦ãã ã•ã„');
            return;
        }

        const started = this.audioDetector.startDetection();
        if (started) {
            console.log('ğŸµ éŸ³å£°æ¤œå‡ºé–‹å§‹');
            this.elements.startBtn.disabled = true;
            this.elements.stopBtn.disabled = false;
        }
    }

    stopDetection() {
        if (this.audioDetector) {
            this.audioDetector.stopDetection();
            console.log('â¹ éŸ³å£°æ¤œå‡ºåœæ­¢');
            this.elements.startBtn.disabled = false;
            this.elements.stopBtn.disabled = true;
        }
    }

    // ğŸµ éŸ³ç¨‹ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ï¼ˆv1.1.5æ–°æ©Ÿèƒ½æ´»ç”¨ï¼‰
    switchToIntervalMode() {
        if (!this.audioDetector) return;

        console.log('ğŸ”„ éŸ³ç¨‹ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆä¸­...');
        
        // v1.1.5æ–°æ©Ÿèƒ½ï¼šè‡ªå‹•UIãƒªã‚»ãƒƒãƒˆä»˜ãã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼å¤‰æ›´
        this.audioDetector.updateSelectors({
            volumeBarSelector: '#interval-volume-bar',
            volumeTextSelector: '#interval-volume-text',
            frequencySelector: '#interval-frequency',
            noteSelector: '#interval-note'
        });

        this.updateModeDisplay('interval');
        this.currentMode = 'interval';
        console.log('âœ… éŸ³ç¨‹ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆå®Œäº†');
    }

    // ğŸ¼ éŸ³éšç·´ç¿’ãƒ¢ãƒ¼ãƒ‰
    switchToScaleMode() {
        if (!this.audioDetector) return;

        console.log('ğŸ”„ éŸ³éšç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆä¸­...');
        
        this.audioDetector.updateSelectors({
            volumeBarSelector: '#scale-volume-bar',
            volumeTextSelector: '#scale-volume-text',
            frequencySelector: '#scale-frequency',
            noteSelector: '#scale-note'
        });

        this.updateModeDisplay('scale');
        this.currentMode = 'scale';
        console.log('âœ… éŸ³éšç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆå®Œäº†');
    }

    // ğŸ¹ å’ŒéŸ³ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰
    switchToChordMode() {
        if (!this.audioDetector) return;

        console.log('ğŸ”„ å’ŒéŸ³ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆä¸­...');
        
        this.audioDetector.updateSelectors({
            volumeBarSelector: '#chord-volume-bar',
            volumeTextSelector: '#chord-volume-text',
            frequencySelector: '#chord-frequency',
            noteSelector: '#chord-note'
        });

        this.updateModeDisplay('chord');
        this.currentMode = 'chord';
        console.log('âœ… å’ŒéŸ³ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆå®Œäº†');
    }

    // ãƒ¢ãƒ¼ãƒ‰è¡¨ç¤ºã®æ›´æ–°
    updateModeDisplay(mode) {
        // ã™ã¹ã¦ã®ãƒ¢ãƒ¼ãƒ‰ã‚’éè¡¨ç¤º
        this.elements.intervalTraining.classList.remove('active');
        this.elements.scaleTraining.classList.remove('active');
        this.elements.chordTraining.classList.remove('active');

        // é¸æŠã•ã‚ŒãŸãƒ¢ãƒ¼ãƒ‰ã‚’è¡¨ç¤º
        if (mode === 'interval') {
            this.elements.intervalTraining.classList.add('active');
        } else if (mode === 'scale') {
            this.elements.scaleTraining.classList.add('active');
        } else if (mode === 'chord') {
            this.elements.chordTraining.classList.add('active');
        }

        // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹æ›´æ–°
        document.querySelectorAll('[id$="-mode-btn"]').forEach(btn => {
            btn.classList.remove('active');
        });
        document.getElementById(`${mode}-mode-btn`).classList.add('active');
    }

    // ãƒ”ãƒƒãƒæ›´æ–°ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
    handlePitchUpdate(result) {
        if (result.frequency > 0) {
            console.log(`ğŸµ [${this.currentMode}] ${result.note} - ${result.frequency.toFixed(1)}Hz (éŸ³é‡: ${result.volume.toFixed(1)}%)`);
            
            // ãƒ¢ãƒ¼ãƒ‰å›ºæœ‰ã®å‡¦ç†
            if (this.currentMode === 'interval') {
                this.processIntervalTraining(result);
            } else if (this.currentMode === 'scale') {
                this.processScaleTraining(result);
            } else if (this.currentMode === 'chord') {
                this.processChordTraining(result);
            }
        }
    }

    // éŸ³é‡æ›´æ–°ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
    handleVolumeUpdate(volume) {
        // å¿…è¦ã«å¿œã˜ã¦éŸ³é‡ã«åŸºã¥ãå‡¦ç†ã‚’è¿½åŠ 
        if (volume < 5) {
            console.log('ğŸ’¡ ã‚‚ã†å°‘ã—å¤§ããªå£°ã§æ­Œã£ã¦ã¿ã¦ãã ã•ã„');
        }
    }

    // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
    handleError(error) {
        console.error('âŒ PitchPro ã‚¨ãƒ©ãƒ¼:', error);
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼å‡¦ç†
        if (error.message.includes('Permission denied')) {
            alert('ãƒã‚¤ã‚¯ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ãŒå¿…è¦ã§ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
        } else {
            alert(`ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}`);
        }
    }

    // ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰å›ºæœ‰ã®å‡¦ç†ãƒ¡ã‚½ãƒƒãƒ‰
    processIntervalTraining(result) {
        // éŸ³ç¨‹ç·´ç¿’å›ºæœ‰ã®ãƒ­ã‚¸ãƒƒã‚¯
        // ä¾‹: ç›®æ¨™éŸ³ç¨‹ã¨ã®å·®ã‚’è¨ˆç®—ãƒ»è¡¨ç¤º
    }

    processScaleTraining(result) {
        // éŸ³éšç·´ç¿’å›ºæœ‰ã®ãƒ­ã‚¸ãƒƒã‚¯
        // ä¾‹: ã‚¹ã‚±ãƒ¼ãƒ«å†…ã®éŸ³ç¬¦ã‹ãƒã‚§ãƒƒã‚¯
    }

    processChordTraining(result) {
        // å’ŒéŸ³ç·´ç¿’å›ºæœ‰ã®ãƒ­ã‚¸ãƒƒã‚¯
        // ä¾‹: å’ŒéŸ³æ§‹æˆéŸ³ã®æ¤œå‡ºãƒ»è¡¨ç¤º
    }

    // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
    destroy() {
        if (this.audioDetector) {
            this.audioDetector.destroy();
            console.log('ğŸ—‘ï¸ PitchTrainingApp ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Œäº†');
        }
    }
}

// ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–
document.addEventListener('DOMContentLoaded', () => {
    window.pitchTrainingApp = new PitchTrainingApp();
    console.log('ğŸµ éŸ³ç¨‹ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¢ãƒ—ãƒªæº–å‚™å®Œäº†');
});

// ãƒšãƒ¼ã‚¸é›¢è„±æ™‚ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
window.addEventListener('beforeunload', () => {
    if (window.pitchTrainingApp) {
        window.pitchTrainingApp.destroy();
    }
});
```

## âš ï¸ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ™‚ã®æ³¨æ„äº‹é …

### 1. å¾Œæ–¹äº’æ›æ€§ã®ç¢ºèª

```javascript
// v1.1.5æ©Ÿèƒ½ã®æœ‰ç„¡ã‚’ç¢ºèª
if (typeof audioDetector.updateSelectors === 'function') {
    console.log('âœ… v1.1.5ã®æ–°æ©Ÿèƒ½ãŒåˆ©ç”¨å¯èƒ½');
    // æ–°æ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ãŸãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ
    audioDetector.updateSelectors(newSelectors);
} else {
    console.log('âš ï¸ æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¤œå‡º - æ‰‹å‹•UIãƒªã‚»ãƒƒãƒˆã‚’å®Ÿè¡Œ');
    // å¾“æ¥ã®æ‰‹å‹•ãƒªã‚»ãƒƒãƒˆå‡¦ç†
    resetUIElementsManually();
    // ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼æ›´æ–°ï¼ˆãƒªã‚»ãƒƒãƒˆãªã—ï¼‰
    audioDetector.updateSelectors(newSelectors);
}
```

### 2. æ—¢å­˜ã®UIãƒªã‚»ãƒƒãƒˆå‡¦ç†ã®å‰Šé™¤

```javascript
// âŒ v1.1.5ä»¥é™ã¯ä¸è¦ - å‰Šé™¤æ¨å¥¨
function resetVolumeBarManually() {
    document.getElementById('old-volume-bar').style.width = '0%';
    document.getElementById('old-volume-text').textContent = '0.0%';
    // ... ãã®ä»–ã®ãƒªã‚»ãƒƒãƒˆå‡¦ç†
}

// âœ… v1.1.5ã§ã¯è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚å‰Šé™¤
// audioDetector.updateSelectors() å†…ã§è‡ªå‹•å‡¦ç†
```

### 3. ãƒ‡ãƒãƒƒã‚°ã¨ãƒ†ã‚¹ãƒˆ

```javascript
// ãƒ‡ãƒãƒƒã‚°ç”¨çŠ¶æ…‹ç¢ºèª
console.log('ğŸ“Š AudioDetectionComponentçŠ¶æ…‹:', audioDetector.getStatus());

// æ–°æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
function testUpdateSelectors() {
    const testSelectors = {
        volumeBarSelector: '#test-volume-bar',
        volumeTextSelector: '#test-volume-text',
        frequencySelector: '#test-frequency'
    };
    
    try {
        audioDetector.updateSelectors(testSelectors);
        console.log('âœ… updateSelectors ãƒ†ã‚¹ãƒˆæˆåŠŸ');
    } catch (error) {
        console.error('âŒ updateSelectors ãƒ†ã‚¹ãƒˆå¤±æ•—:', error);
    }
}
```

## ğŸ¯ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### Beforeï¼ˆv1.1.4ä»¥å‰ï¼‰
```
éŸ³ç¨‹ç·´ç¿’ â†’ éŸ³éšç·´ç¿’åˆ‡ã‚Šæ›¿ãˆæ™‚:
âŒ éŸ³ç¨‹ç·´ç¿’ã®éŸ³é‡ãƒãƒ¼ãŒå‹•ãç¶šã‘ã‚‹
âŒ è¤‡æ•°ã®éŸ³é‡ãƒãƒ¼ãŒåŒæ™‚ã«å‹•ä½œ
âŒ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ··ä¹±ã¨ã‚¹ãƒˆãƒ¬ã‚¹
```

### Afterï¼ˆv1.1.5ï¼‰
```
éŸ³ç¨‹ç·´ç¿’ â†’ éŸ³éšç·´ç¿’åˆ‡ã‚Šæ›¿ãˆæ™‚:
âœ… éŸ³ç¨‹ç·´ç¿’ã®éŸ³é‡ãƒãƒ¼ãŒè‡ªå‹•ã§0ã«ãƒªã‚»ãƒƒãƒˆ
âœ… éŸ³éšç·´ç¿’ã®éŸ³é‡ãƒãƒ¼ã®ã¿ãŒå‹•ä½œ
âœ… ã‚¯ãƒªãƒ¼ãƒ³ã§ç›´æ„Ÿçš„ãªåˆ‡ã‚Šæ›¿ãˆä½“é¨“
```

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **[CHANGELOG.md](./CHANGELOG.md)** - v1.1.5ã®è©³ç´°å¤‰æ›´å±¥æ­´
- **[README.md](./README.md)** - AudioDetectionComponentã®å®Œå…¨ã‚¬ã‚¤ãƒ‰  
- **[updateSelectors-demo.html](./updateSelectors-demo.html)** - å®Ÿéš›ã®å‹•ä½œãƒ‡ãƒ¢
- **[CLAUDE.md](./CLAUDE.md)** - é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Q1: updateSelectors()ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚¨ãƒ©ãƒ¼
```javascript
// è§£æ±ºæ–¹æ³•: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
console.log('PitchProãƒãƒ¼ã‚¸ãƒ§ãƒ³:', PitchPro.VERSION || 'ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ãªã—');

// ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ã®ç¢ºèª
const script = document.querySelector('script[src*="pitchpro"]');
console.log('èª­ã¿è¾¼ã¿ä¸­ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ:', script?.src);
```

### Q2: éŸ³é‡ãƒãƒ¼ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œãªã„
```javascript
// è§£æ±ºæ–¹æ³•: ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ãŒæ­£ã—ã„ã‹ç¢ºèª
const element = document.querySelector('#your-volume-bar');
console.log('è¦ç´ ã®å­˜åœ¨ç¢ºèª:', !!element);

// updateSelectorsã®å‘¼ã³å‡ºã—ç¢ºèª
audioDetector.updateSelectors({
    volumeBarSelector: '#your-volume-bar', // æ­£ã—ã„ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ã‹ç¢ºèª
    // ...
});
```

### Q3: è¤‡æ•°ãƒ¢ãƒ¼ãƒ‰é–“ã®åˆ‡ã‚Šæ›¿ãˆãŒä¸å®‰å®š
```javascript
// è§£æ±ºæ–¹æ³•: ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆå‰ã«ä¸€æ™‚åœæ­¢
stopDetection();
switchToNewMode();
startDetection();
```

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

**æŠ€è¡“çš„ãªè³ªå•ã‚„ãƒã‚°å ±å‘Š**:
- GitHub Issues: [https://github.com/kiyopi/pitchpro-audio-processing/issues](https://github.com/kiyopi/pitchpro-audio-processing/issues)
- é–‹ç™ºãƒãƒ¼ãƒ : [æ‹…å½“è€…é€£çµ¡å…ˆ]

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´9æœˆ9æ—¥  
**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**å¯¾è±¡PitchProãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v1.1.5+